{% extends "pass_base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/password.css' %}">
<div class="container mt-5">
  <h2>비밀번호 변경</h2>
  
  <!-- 비밀번호 변경 폼 -->
  <form method="POST" class="form-group">
    {% csrf_token %}

    <!-- 에러 메시지 표시 -->
    {% if messages %}
      <div class="alert alert-danger">
        {% for message in messages %}
          <p>{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <!-- 현재 비밀번호 입력 -->
    <div class="form-group">
      <label for="origin_password">현재 비밀번호:</label>
      <input type="password" name="origin_password" class="form-control input-field" id="origin_password" required onclick="showNumberPad('origin_password')">
    </div>
    <br>

    <!-- 새 비밀번호 입력 -->
    <div class="form-group">
      <label for="new_password">새 비밀번호:</label>
      <input type="password" name="new_password" class="form-control input-field" id="new_password" required onclick="showNumberPad('new_password')">
    </div>
    <br>

    <!-- 비밀번호 확인 입력 -->
    <div class="form-group">
      <label for="confirm_password">비밀번호 확인:</label>
      <input type="password" name="confirm_password" class="form-control input-field" id="confirm_password" required onclick="showNumberPad('confirm_password')">
    </div>
    <br>

    <!-- Hidden fields: employee_id와 count 전달 -->
    <input type="hidden" name="employee_id" value="{{ employee_id }}">
    <input type="hidden" name="count" value="{{ count }}">

    <!-- 제출 버튼 -->
    <button type="submit" class="btn btn-primary">비밀번호 변경</button>
  </form>
</div>

<!-- 숫자 키패드 팝업 -->


<section class="calc-buttons">
  <div class="number-pad" id="number-pad">
      <div id="number-keys">
          <div class="calc-button-row">
              <button class="calc-button" onclick="addNumber('7')">7</button>
              <button class="calc-button" onclick="addNumber('8')">8</button>
              <button class="calc-button" onclick="addNumber('9')">9</button>
          </div>
          <div class="calc-button-row">
              <button class="calc-button" onclick="addNumber('4')">4</button>
              <button class="calc-button" onclick="addNumber('5')">5</button>
              <button class="calc-button" onclick="addNumber('6')">6</button>
          </div>
          <div class="calc-button-row">
              <button class="calc-button" onclick="addNumber('1')">1</button>
              <button class="calc-button" onclick="addNumber('2')">2</button>
              <button class="calc-button" onclick="addNumber('3')">3</button>
          </div>
          <div class="calc-button-row">
              <button class="calc-button" onclick="addNumber('0')">0</button>
              <button class="calc-button double" onclick="deleteLastChar()">C</button>
          </div>
          <div class="calc-button-row">
              <!-- Enter 버튼 -->
              <button class="calc-button triple" id="enter-btn" onclick="submitInput()">Enter</button>
          </div>
      </div>
  </div>
</section>

<script src="{% static 'js/number_pad.js' %}"></script>

{% endblock %}
